<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0">
	<!-- 引入公共样式 -->
	<link rel="stylesheet"  href="./css/base.css">
	<!-- 引入自己的样式 -->
	<link rel="stylesheet"  href="./css/index.css">
	<!-- 引入js -->
	<!-- <script src="./js/index.js"></script> -->
	<!-- 引入zepto文件 -->
	<!-- <script src="./zepto-master/src/zepto.min.js"></script> -->
	<!-- 为了支持和 jq类似的选择器,得引入一个新的js文件-->
	<!-- <script src="./zepto-master/src/selector.js"></script> -->
	<!-- 引入animate包 -->
	<!-- <script src="./zepto-master/src/fx.js"></script>
	<script src="./zepto-master/src/touch.js"></script> -->
	<!-- 引入定制之后得js
	文件 -->
	<script src="./js/zepto.min.js"></script>
	<title>Document</title>
</head>
<body>
<div class="jd_layout">
	<!-- 搜索块 -->
	<div class="jd_search">
		<a href="javascript:;" class="jd_logo"></a>
			<form action="" class="jd_searchBox">
				<input type="text" placeholder="请输入商品名称">

			</form>
		<a href="javascript:;" class="jd_login">登录</a>


	</div>

	<!-- 轮播图 -->
	<div class="jd_banner">
		<!-- 图片 -->
		<ul class="jd_bannerImg clearfix">
			<li>
				<a href="javascript:;">
					<img src="./uploads/l1.jpg">
				</a>
			
			</li>
			<li>
				<a href="javascript:;">
					<img src="./uploads/l2.jpg">
				</a>
			
			</li>
			<li>
				<a href="javascript:;">
					<img src="./uploads/l3.jpg">
				</a>
			
			</li>
			<li>
				<a href="javascript:;">
					<img src="./uploads/l4.jpg">
				</a>
			
			</li>
			<li>
				<a href="javascript:;">
					<img src="./uploads/l5.jpg">
				</a>
			
			</li>
			<li>
				<a href="javascript:;">
					<img src="./uploads/l6.jpg">
				</a>
			
			</li><li>
				<a href="javascript:;">
					<img src="./uploads/l7.jpg">
				</a>
			
			</li>
			<li>
				<a href="javascript:;">
					<img src="./uploads/l8.jpg">
				</a>
			
			</li>

		</ul>
		<!-- 标记 -->
		<ul class="jd_bannerIndicator">
			<li class="active"></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>


		</ul>
	
	</div>
	<!-- 导航块 -->
	<div class="jd_nav">
		<ul class="clearfix">
			<li>
				<a href="./category.html">
					<img src="./images/nav_1.png">
					<p>商品分类</p>
				</a>	
			</li>
			<li>
				<a href="./category.html">
					<img src="./images/nav_2.png">
					<p>商品分类</p>
				</a>	
			</li>
			<li>
				<a href="./category.html">
					<img src="./images/nav_3.png">
					<p>商品分类</p>
				</a>	
			</li>
			<li>
				<a href="./category.html">
					<img src="./images/nav_4.png">
					<p>商品分类</p>
				</a>	
			</li>
			<li>
				<a href="./category.html">
					<img src="./images/nav_5.png">
					<p>商品分类</p>
				</a>	
			</li>
			<li>
				<a href="./category.html">
					<img src="./images/nav_6.png">
					<p>商品分类</p>
				</a>	
			</li>
			<li>
				<a href="./category.html">
					<img src="./images/nav_7.png">
					<p>商品分类</p>
				</a>	
			</li>
			<li>
				<a href="./category.html">
					<img src="./images/nav_8.png">
					<p>商品分类</p>
				</a>	
			</li>
		</ul>

	</div>
	<!-- 产品块 -->
	<div class="jd_product">
		<div class="jd_productBox clearfix jd_sk">
			<div class="jd_pTip">
				<div class="jd_left f_left"> 
					<span class="jd_sk_icon f_left m_left10"></span>
					<span class="jd_sk_text f_left m_left10">掌上秒杀</span>
					<div class="jd_sk_time f_left m_left10">
							<span>0</span>
							<span>0</span>
							<span>:</span>
							<span>0</span>
							<span>0</span>
							<span>:</span>
							<span>0</span>
							<span>0</span>
					</div>
				</div>
				<div class="jd_right f_right m_right10">更多秒杀...</div>
			</div>	
			<div class="jd_pContent clearfix">
				<ul>
					<li>
						<a href="javascript:;">
							<img src="./uploads/detail01.jpg">
						</a>
						<p>&yen;10.00</p>
						<p>&yen;20.00</p>

					</li>
					<li>
						<a href="javascript:;">
							<img src="./uploads/detail01.jpg">
						</a>
						<p>&yen;10.00</p>
						<p>&yen;20.00</p>

					</li>
					<li>
						<a href="javascript:;">
							<img src="./uploads/detail01.jpg">
						</a>
						<p>&yen;10.00</p>
						<p>&yen;20.00</p>

					</li>
				</ul>
			</div>
		</div>
		<div class="jd_productBox">
			<div class="jd_pTip">
				<h3>京东超市</h3>
			</div>
			<div class="jd_pContent clearfix">
				<a href="javascript:;" class="a_50 f_left ">
					<img src="./uploads/cp1.jpg">
				</a>
				<a href="javascript:;" class="a_50 f_left b_bottom b_left">
					<img src="./uploads/cp2.jpg">
				</a>
				<a href="javascript:;" class="a_50 f_left b_left">
					<img src="./uploads/cp3.jpg">
				</a>
			</div>
		</div>
		<div class="jd_productBox">
			<div class="jd_pTip">
				<h3>京东超市</h3>
			</div>
			<div class="jd_pContent clearfix">
				<a href="javascript:;" class="a_50 f_right ">
					<img src="./uploads/cp4.jpg">
				</a>
				<a href="javascript:;" class="a_50 f_left b_bottom  b_left">
					<img src="./uploads/cp5.jpg">
				</a>
				<a href="javascript:;" class="a_50 f_left  b_left">
					<img src="./uploads/cp6.jpg">
				</a>
			</div>
		</div>
		<div class="jd_productBox">
			<div class="jd_pTip">
				<h3>京东超市</h3>
			</div>
			<div class="jd_pContent clearfix">
				<a href="javascript:;" class="a_50 f_left ">
					<img src="./uploads/cp1.jpg">
				</a>
				<a href="javascript:;" class="a_50 f_left b_bottom b_left">
					<img src="./uploads/cp2.jpg">
				</a>
				<a href="javascript:;" class="a_50 f_left b_left">
					<img src="./uploads/cp3.jpg">
				</a>
			</div>
		</div>
	</div>
</div>
<script>
	// 使用zepto实现轮播图
	$(function(){
		// 1.添加首尾两张图片
		// 2.重新设置盒子宽度和图片宽度
		// 3;开启定时器,实现自动轮播
		// 4.添加移动端滑动事件,实现手动轮播
		// 5.添加过渡效果结束之后的监听
		// 获取轮播图元素
		var banner = $(".jd_banner");
		var bannerWidth = banner.width();
		// 获取图片盒子
		var imgBox = banner.find("ul:first-of-type");
		// 获取点标记
		// var indicators=banner.find("  ul:last-of-type")
		var indicators = banner.find("ul:eq(1)").find("li");
		// 获取首尾两张图片
		var first = imgBox.find("li:first-of-type");
		var last = imgBox.find("li:last-of-type");
		// 将两张图片添加到首尾位置 fisrt.clone()将first复制了一份
		imgBox.append(first.clone());
		last.clone().insertBefore(first);

		//设置图片盒子得宽度,设置li标签得宽度
		 var lis=imgBox.find("li");
		 var count = lis.length; 
		 imgBox.width(count*bannerWidth);
		 lis.each(function(index,value){
		 	$(lis[index]).width(bannerWidth);
		 });
		 // 设置默认偏移
		 imgBox.css("left",-bannerWidth);
		 // 定义图片索引
		 var	index = 1;
		 var imgAnimation = function(){
		 	// 设置定位 直接使用animate
		 	// 1.需要添加动画效果得样式--对象
		 	// 2.动画得耗时
		 	// 3.动画得速度函数 animation-timing-func
		 	// 4.动画执行完毕后得回调
		 	imgBox.animate({"left":-index*bannerWidth},200,"ease-in-out",function(){
		 		// 执行完毕后得回调 判断当前索引是否是第一张或者最后一张
		 		if(index == count-1){
		 			index =1;
		 			imgBox.css("left",-index*bannerWidth);
		 		}else if (index == 0) {
		 			index=count-2;
		 			imgBox.css("left",-index*bannerWidth);
		 		}
		 		// 设置点标记 
		 		 indicators.removeClass("active").eq(index-1).addClass("active");
		 		 // console.log(indicators);



		 	});
		 }
		 // 开启定时器
		var timeId = setInterval(function(){
		 	index++;
		 	// 开启过渡 设置定位 直接使用animate
		 	imgAnimation();
		 },2000);

		 // 添加滑动事件
		// 左 滑动
		// 谷歌浏览器得模拟器无法正常触发swipe相关事件，但可以触发tap事件
		 imgBox.bind("swipeLeft",function(){
		 	
		 	clearInterval(timeId);
		 	index++;
		 	imgAnimation();
		 });
		 // 右滑动
		 imgBox.on("swipeRight",function(){
		 	clearInterval(timeId);
		 	
		 	index--;
		 	imgAnimation();
		 });
 
	});
	
	




</script>


</body>
</html>